/*
 * Dump Member Policy Data
 *
 * Usage:
 *  (1) Save this file to your local folder
 *  (2) The run following command from SQL*Developer
 *
 *      @<PATH OF THIS SQL>\Dump_Member_Policy.sql <Policy Number>
 *
 *     "<PATH OF THIS SQL>"     : Modify to your path of this file
 *     "<Policy Number>" : Modify to policy number you want to extract
 *  (3) The output file is created "logs" sub-directory of this SQL file, you need to create "logs" directory before you run this script.
*/


REM ****** 

PROMPT ----- Extracting 
/*

set serverout on
set pages 0
set feedback on
set termout off
*/
set echo off

SET VERIFY OFF
SET HEAD ON
--set pages 100
set pages 1000
set trimspool on
set lines 4500




column log_date new_value log_date_text noprint
select to_char(sysdate,'yyyymmdd_hh24mi') log_date from dual;

column v_SID new_value VAR_SID noprint
SELECT DISPLAY_VALUE v_SID from V$PARAMETER where name = 'instance_name';

@@Common_Headings.sql

/* ***********************************************************
		Change the path of output file for your local path
   *********************************************************** */
spool .\logs\&1._&VAR_SID._&log_date_text..txt

REM
REM Business Date at the point of extraction
REM
@@BUSD_Business_Date.sql

Prompt ***
Prompt ************************************ Member Policy Information ************************************
Prompt ***


prompt ==== 
PROMPT ======= Member Policy summary ======================================================================
prompt ==== 
@@Member_Policy_Summary.sql &1

prompt ====
prompt ==== Transaction History (ZTRAPF,ZINSDTLSPF)======================================================================
prompt ====


@@ZTRA_Transaction_History.sql &1


Prompt ==== 
Prompt ==== Alteration Temp File (ZALTPF) )======================================================================
Prompt ==== 

@@ZALT_Alteration_Quotation.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************


Prompt ***
Prompt ************************************ Master Policy and Commissins *******************************************
Prompt ***


Prompt ==== 
Prompt ==== Group Master Policy======================================================================
Prompt ==== 

@@Group_Master_Policy_Summary.sql &1


Prompt ==== 
Prompt ==== Camp code ======================================================================
Prompt ==== 
@@ZCPNPF.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************

--******************************Group Master*******************************************
Prompt ==== 
Prompt ==== Agency Pattern for group master************************************************************************
Prompt ==== 

@@ZAGP_Agency_Pattern_for_Group.sql &1
@@Card_Type_And_Member_Store_Info.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************

--******************************Individual Policy*******************************************
Prompt ==== 
Prompt ==== Agency Pattern for individual*************************************************************************
Prompt ==== 

@@ZAGP_Agency_Pattern_for_IND.sql &1
@@Card_Type_And_Member_Store_Ind.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************


Prompt ***
Prompt ************************************ Endorser Master *******************************************
Prompt ***


Prompt ==== 
Prompt ==== Endorser Master (ZENDRPF)======================================================================
Prompt ==== 
@@ZENDR_Endorser_Master.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************



Prompt ***
Prompt ************************************ Coverage Module  ************************************
Prompt ***

prompt ==== 
PROMPT ======= Sales Plan ======================================================================
prompt ==== 

@Sales_Plan_used_by_Policy.sql &1



Prompt ==== 
Prompt ==== Coverages and Riders (GXHIPF) ======================================================================
Prompt ==== 
@@GXHI_Coverages_and_Riders.sql &1



Prompt ==== 
Prompt ==== ZTEMPCOV ======================================================================
Prompt ==== 
@@ZTEMPCOV_SI_and_Premium.sql &1


Prompt ==== 
prompt ==== ZTEMPTIERPF ======================================================================
Prompt ==== 
@@ZTEMPTIER_Tier_Information.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************

Prompt ***
Prompt ************************************ Billing Module  ************************************
Prompt ***

prompt ====
prompt ==== Billing History (GBIHPF)======================================================================
prompt ====
@@GBIH_GBID_Billing_History.sql &1

@@ZREP_ZRFD_ZBOP_Refund_Offset.sql &1

@@ZPIH_ZPID_Pay_in.sql &1

Prompt ==== 
Prompt ==== ZCRHPF======================================================================
Prompt ==== 
@@ZCRH.sql &1

Prompt ==== 
Prompt ==== Unsuccessful Collection (ZUCLPF)======================================================================
Prompt ==== 
@@ZUCL_Unsuccessful_Collection.sql &1

@@ZDDV_DDV_Info.sql &1



prompt ====
prompt ==== Monthly Premium (GPMDPF)======================================================================
prompt ====
@@GPMD_Monthly_Premium.sql &1


PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************

Prompt ***
Prompt ************************************ Client and  Member Contents ID ************************************
Prompt ***


prompt ===
prompt ======= Nayose client (Pazdnypf) ================================================================
prompt ===

@@Pazdnypf.sql &1

prompt ===
prompt ======= Nayose client (Pazdnypf) ================================================================
prompt ===

@@Zclnpf.sql &1

prompt ===
prompt ======= Owner Bank Account (CLBAPF) ================================================================
prompt ===
@@CLBA.sql &1


prompt ===
prompt ======= Client Endorser Specific Contents ID (ZCLEPF) ================================================================
prompt ===
@@ZCLE_Client_ESC_Data.sql &1


prompt ===
prompt ======= Client role (CLRRPF) ================================================================
prompt ===
@@CLRR.sql &1




prompt ===
prompt ======= Member Contents ID (ZMCIPF) ================================================================
prompt ===
@@ZMCI_Member_Contents_ID.sql &1





PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************

Prompt ***
Prompt ************************************ IR report ************************************
Prompt ***

@@ZIIR_IR_Tepm_File.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************

Prompt ***
Prompt ************************************ Letter ************************************
Prompt ***


@@ZSTG_Letter_Trigger_File.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************


Prompt ***
Prompt ************** ASRF Information **************************
Prompt ***

Prompt ==== 
Prompt ==== ASRF (ZASRPF)
Prompt ==== 
@@ASRF_for_Policy.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************


Prompt ***
Prompt ************** Batch related information **************************
Prompt ***

@@ZERR_Error_File.sql &1

PROMPT ******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************


rem @@BSSC_Batch_Schedule.sql

spool off
set heading on
set termout on
set echo on
set feed on
